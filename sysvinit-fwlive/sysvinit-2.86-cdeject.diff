diff -Nuar sysvinit-2.86.old/src/halt.c sysvinit-2.86/src/halt.c
--- sysvinit-2.86.old/src/halt.c	2004-07-30 14:16:18.000000000 +0200
+++ sysvinit-2.86/src/halt.c	2006-04-28 08:40:02.000000000 +0200
@@ -37,24 +37,28 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <sys/param.h>
+#include <sys/errno.h>
+#include <sys/mount.h>
+#include <stdio.h>
 #include <stdlib.h>
 #include <utmp.h>
 #include <fcntl.h>
 #include <string.h>
 #include <unistd.h>
-#include <sys/times.h>
-#include <time.h>
 #include <signal.h>
-#include <stdio.h>
-#include <getopt.h>
+#include <termios.h>
 #include "reboot.h"
 
-char *Version = "@(#)halt  2.86  31-Jul-2004 miquels@cistron.nl";
 char *progname;
 
 #define KERNEL_MONITOR	1 /* If halt() puts you into the kernel monitor. */
 #define RUNLVL_PICKY	0 /* Be picky about the runlevel */
 
+#ifndef MNT_DETACH
+#define MNT_DETACH 0x00000002
+#endif
+#define UMOUNT(x) umount2(x,MNT_DETACH)
+
 extern int ifdown(void);
 extern int hddown(void);
 extern void write_wtmp(char *user, char *id, int pid, int type, char *line);
@@ -262,9 +266,20 @@
 
 	if (do_nothing) exit(0);
 
-	if (do_reboot) {
+	/* FwLive: unload/eject CD-Rom */
+
+	char *msg1="[1;36mPlease remove CD, close cdrom drive and hit return.[1;39m";
+	char *msg2="\r[K[1;34mShutdown complete.[0;39m";
+	write(2,msg1,strlen(msg1)); tcflush(1,TCIFLUSH); getchar();
+	write(2,msg2,strlen(msg2));
+	usleep(250000);
+
+	if (do_reboot)
+	{
 		init_reboot(BMAGIC_REBOOT);
-	} else {
+	}
+	else
+	{
 		/*
 		 *	Turn on hard reboot, CTRL-ALT-DEL will reboot now
 		 */
