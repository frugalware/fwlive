#!/bin/sh

ROOTSIZE="1"
ROOTCOMPRESS="lzo"
ROOTREPO="current"
DISKSIZE="4G"

error()
{
  echo "$1"
  exit 1
}

while test "$#" -gt 0; do
  case "$1" in
    --rootsize)
      test -z "$2" && error "No argument supplied: rootsize"
      ROOTSIZE="$2"
      shift
      ;;
    --disksize)
      test -z "$2" && error "No argument supplied: disksize"
      DISKSIZE="$2"
      shift
      ;;
    --rootcompress)
      test -z "$2" && error "No argument supplied: rootcompress"
      ROOTCOMPRESS="$2"
      shift
      ;;
    --rootrepo)
      test -z "$2" && error "No argument supplied: rootrepo"
      ROOTREPO="$2"
      shift
      ;;
    *)
      error "Invalid argument: $1"
      ;;
  esac
  shift
done

cat > fwlive.cfg << EOF
ROOTSIZE="$ROOTSIZE"
ROOTCOMPRESS="$ROOTCOMPRESS"
ROOTREPO="$ROOTREPO"
DISKSIZE="$DISKSIZE"
EOF
